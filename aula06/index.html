<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Aula 06 - Bootstrap Forms</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body class="container">
    <section class="row mt-5">
        <div class="col-md-4 card card-body">
            <form>
                <label for="nome" class="mt-3">Nome:</label>
                <input id="nome" onkeypress="removerInvalid('nome');" type="text" class="form-control" placeholder="Digite o nome">
                <small class="form-text text-danger" id="erro-nome"></small>

                <label for="senha" class="mt-3">Senha:</label>
                <input id="senha" onkeypress="removerInvalid('senha');" type="password" class="form-control" placeholder="Digite a senha">
                <small class="form-text text-danger" id="erro-senha"></small>

                <label for="email" class="mt-3">Email:</label>
                <input id="email" onkeypress="removerInvalid('email');" type="email" class="form-control" placeholder="Digite o email">
                <small class="form-text text-danger" id="erro-email"></small>

                <label for="cidade" class="mt-3">Cidade:</label>
                <select id="cidade" onchange="removerInvalid('cidade');" class="form-control">
                    <option value="">Selecione</option>
                    <option>Fortaleza</option>
                    <option>Fortaleza</option>
                    <option>Fortaleza</option>
                </select>
                <small class="form-text text-danger" id="erro-cidade"></small>

                <button onClick="validarForm();" type="button" class="btn btn-primary mt-3">
                        Enviar
                    </button>
            </form>
        </div>
        <div class="col-md-4 card card-body">
            <form>
                <label for="nome" class="mt-3">Nome:</label>
                <input  id="nome" type="text" class="form-control" placeholder="Digite o nome">
                <small class="form-text text-muted">Escreva seu nome completo</small>

                <label for="senha" class="mt-3">Senha:</label>
                <input id="senha" type="password" class="form-control is-invalid" placeholder="Digite a senha">
                <small class="form-text text-danger">Email invalido</small>
                
                <label for="email" class="mt-3">Email:</label>
                <input id="email" type="email" class="form-control is-valid" placeholder="Digite o email">
                <small class="form-text text-success">A senha é forte</small>

                <label for="cidade" class="mt-3">Cidade:</label>
                <select id="cidade" class="form-control">
                    <option>Fortaleza</option>
                    <option>Fortaleza</option>
                    <option>Fortaleza</option>
                </select>

                
            </form>
        </div>
        <div class="col-md-4">
            <table class="table table-striped table-hover">
                <thead class="thead-dark">
                    <tr>
                        <th>Nome</th>
                        <th>Email</th>
                        <th>Cidade</th>
                    </tr>
                </thead>
                <tbody id="tabela-registros">

                </tbody>
            </table>
        </div>
    </section>

    <script>
        function validarForm() {

            if (document.getElementById('nome').value.length < 3) {
                document.getElementById('nome').classList.add('is-invalid');
                document.getElementById('erro-nome').innerHTML = 'Nome precisa ter no minimo três digitos.'
            }
            if (document.getElementById('senha').value.length < 3){
                document.getElementById('senha').classList.add('is-invalid');
                document.getElementById('erro-senha').innerHTML = 'Senha precisa ter no minimo três digitos.'
            }
            
            if (document.getElementById('email').value.length < 8){
                document.getElementById('email').classList.add('is-invalid');
                document.getElementById('erro-email').innerHTML = 'Email precisa ter no minimo oito digitos.'
            }

            if (document.getElementById('cidade').value === ''){
                document.getElementById('cidade').classList.add('is-invalid');
                document.getElementById('erro-cidade').innerHTML = 'Selecione uma cidade.'
            }


            document.getElementById('tabela-registros').innerHTML += `
                <tr>
                    <td>${document.getElementById('nome').value}</td>
                    <td>${document.getElementById('email').value}</td>
                    <td>${document.getElementById('cidade').value}</td>
                </td>    
            `;
        }

        function removerInvalid(id) {
            document.getElementById(id).classList.remove('is-invalid');
            document.getElementById('erro-'+id).innerHTML = ''
        }


    </script>
</body>
</html>